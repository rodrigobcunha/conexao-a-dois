<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conex√£o a Dois</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        h1 {
            font-family: 'Dancing Script', cursive;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-rose-100 to-teal-100 min-h-screen flex items-center justify-center p-4 relative">

    <!-- Bot√£o Adicionar Pergunta -->
    <button id="btn-abrir-modal" class="absolute top-4 right-4 bg-white/80 text-rose-800 font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-white transition-all duration-300 transform hover:scale-105">
        Adicionar Pergunta
    </button>

    <main class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-2xl p-6 sm:p-8 md:p-12 text-center max-w-2xl w-full relative">
        <!-- T√≠tulo do App -->
        <h1 class="text-5xl sm:text-6xl text-rose-800 mb-4">Conex√£o a Dois</h1>
        <p class="text-gray-600 mb-8 text-lg">Clique em uma categoria para gerar uma pergunta e se conhecerem melhor.</p>

        <!-- Bot√µes de Categoria -->
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 justify-center gap-4 mb-8">
            <button data-categoria="leves" class="categoria-btn bg-green-500 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-green-600 transition-all duration-300 transform hover:scale-105">
                üòä Leves e Divertidas
            </button>
            <button data-categoria="conhecendo" class="categoria-btn bg-blue-500 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-blue-600 transition-all duration-300 transform hover:scale-105">
                ‚ú® Conhecendo Melhor
            </button>
            <button data-categoria="profundas" class="categoria-btn bg-red-500 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-red-600 transition-all duration-300 transform hover:scale-105">
                ü§ç Profundas e √çntimas
            </button>
            <button data-categoria="picantes" class="categoria-btn bg-purple-800 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-purple-900 transition-all duration-300 transform hover:scale-105">
                üî• Picantes +18
            </button>
        </div>

        <!-- √Årea de Exibi√ß√£o da Pergunta -->
        <div id="pergunta-container" class="bg-white p-8 rounded-xl shadow-inner min-h-[150px] flex flex-col items-center justify-center">
            <p id="texto-pergunta" class="text-2xl text-gray-700 font-medium">Sua pergunta aparecer√° aqui...</p>
        </div>

        <!-- Bot√£o de Reset -->
         <button id="btn-reset" class="mt-6 text-gray-500 hover:text-gray-800 transition-colors">Resetar Jogo</button>
    </main>

    <!-- Modal para Adicionar Pergunta -->
    <div id="modal-adicionar" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-30">
        <div class="bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Adicionar Nova Pergunta</h2>
            <form id="form-pergunta">
                <div class="mb-4">
                    <label for="nova-pergunta" class="block text-gray-700 text-sm font-bold mb-2">Pergunta:</label>
                    <textarea id="nova-pergunta" rows="3" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" required></textarea>
                </div>
                <div class="mb-6">
                    <label for="categoria-pergunta" class="block text-gray-700 text-sm font-bold mb-2">Categoria:</label>
                    <select id="categoria-pergunta" class="shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                        <option value="leves">Leves e Divertidas</option>
                        <option value="conhecendo">Conhecendo Melhor</option>
                        <option value="profundas">Profundas e √çntimas</option>
                        <option value="picantes">Picantes +18</option>
                    </select>
                </div>
                <div class="flex items-center justify-end gap-4">
                    <button id="btn-cancelar" type="button" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                        Cancelar
                    </button>
                    <button type="submit" class="bg-rose-500 hover:bg-rose-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                        Salvar
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Notifica√ß√£o Toast -->
    <div id="toast" class="fixed bottom-5 right-5 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg transform translate-y-20 opacity-0 transition-all duration-500 z-40">
        Pergunta adicionada com sucesso!
    </div>
    
    <!-- L√≥gica do aplicativo -->
    <script>
        // --- BANCO DE PERGUNTAS ---
        // As perguntas agora est√£o dentro do arquivo principal para garantir o funcionamento.
        const perguntas = {
            leves: [
                "Qual foi a primeira coisa que voc√™ pensou quando me viu?", "Se voc√™ pudesse ter qualquer superpoder, qual seria?", "Qual √© o seu sabor de pizza preferido?", "Voc√™ prefere c√£es ou gatos?", "Qual foi o show mais legal que voc√™ j√° foi?", "Qual √© o seu filme de 'sess√£o da tarde' favorito?", "Se voc√™ fosse um animal, qual seria?", "Qual √© a sua sobremesa dos sonhos?", "Voc√™ prefere praia ou campo?", "Qual m√∫sica sempre te faz querer dan√ßar?", "Qual foi a viagem mais engra√ßada que voc√™ j√° fez?", "Qual √© o seu talento mais in√∫til?", "Se voc√™ pudesse jantar com qualquer pessoa famosa (viva ou morta), quem seria?", "Qual √© o seu emoji mais usado?", "O que voc√™ pediria se um g√™nio te concedesse tr√™s desejos?", "Qual s√©rie voc√™ poderia maratonar para sempre?", "Voc√™ √© uma pessoa mais do dia ou da noite?", "Qual foi a coisa mais estranha que voc√™ j√° comeu?", "Qual √© o seu feriado favorito?", "Se voc√™ tivesse uma banda, qual seria o nome dela?", "Qual √© a sua piada favorita?", "Qual era o seu desenho animado preferido na inf√¢ncia?", "Qual o presente mais bizarro que voc√™ j√° ganhou?", "Voc√™ prefere caf√© ou ch√°?", "Qual √© a sua esta√ß√£o do ano preferida?", "Qual √© a sua mem√≥ria mais engra√ßada comigo?", "Qual a coisa mais vergonhosa que j√° aconteceu com voc√™?", "Se dinheiro n√£o fosse um problema, o que voc√™ faria amanh√£?", "Qual √© o seu jogo de tabuleiro ou de cartas favorito?", "Qual cheiro te traz uma boa lembran√ßa?", "Voc√™ prefere cantar no chuveiro ou no carro?", "Qual √© a sua maior mania?", "Qual a comida que voc√™ n√£o suporta?", "Qual foi a √∫ltima coisa que te fez rir alto?", "Qual √© o seu apelido de inf√¢ncia?", "Voc√™ prefere um livro ou um filme?", "Qual a sua lembran√ßa favorita das f√©rias escolares?", "Qual a coisa mais impulsiva que voc√™ j√° comprou?", "Qual o seu lugar favorito no mundo?", "Qual a sua bebida favorita?", "Qual a sua cor preferida?", "O que voc√™ mais gosta de fazer em um dia de chuva?", "Qual o seu esporte favorito para assistir? E para praticar?", "Qual a sua cita√ß√£o ou ditado favorito?", "Se voc√™ pudesse voltar no tempo, para qual √©poca iria?", "Qual a sua flor ou planta preferida?", "Qual foi o melhor conselho que voc√™ j√° recebeu?", "Qual a sua forma preferida de relaxar?", "Qual a sua rede social favorita?", "Qual a sua maior 'gastura' ou 'agonia'?",
            ],
            conhecendo: [
                "Qual √© a sua maior paix√£o na vida?", "O que voc√™ mais admira em seus pais?", "Qual foi o momento em que voc√™ se sentiu mais orgulhoso(a) de si mesmo(a)?", "Qual √© a sua linguagem do amor principal? (Palavras de afirma√ß√£o, tempo de qualidade, presentes, atos de servi√ßo, toque f√≠sico)", "Qual √© a sua mem√≥ria de inf√¢ncia mais feliz?", "O que te faz sentir amado(a) e valorizado(a)?", "Qual √© a sua maior qualidade? E um defeito que voc√™ gostaria de melhorar?", "Como voc√™ descreveria um dia perfeito?", "Qual foi o maior desafio que voc√™ j√° superou?", "O que voc√™ aprendeu com seus relacionamentos passados?", "Qual √© o seu maior sonho ou objetivo de vida no momento?", "Qual √© a coisa mais importante que voc√™ busca em uma amizade?", "Como voc√™ lida com o estresse?", "O que voc√™ mais valoriza em mim?", "Qual √© a sua maior inseguran√ßa?", "Qual √© a sua defini√ß√£o de sucesso?", "Se voc√™ pudesse mudar algo em sua cria√ß√£o, o que seria?", "Qual √© a sua lembran√ßa favorita do nosso relacionamento at√© agora?", "O que te faz sentir mais vivo(a)?", "Qual h√°bito voc√™ gostaria de desenvolver?", "Qual √© a sua maior inspira√ß√£o?", "Como voc√™ gosta de comemorar seu anivers√°rio?", "Qual √© a li√ß√£o mais importante que a vida j√° te ensinou?", "O que te irrita profundamente?", "Qual √© a sua opini√£o sobre espiritualidade ou religi√£o?", "Qual √© o seu maior medo?", "O que voc√™ sempre quis aprender a fazer?", "Como voc√™ demonstra amor e carinho pelas pessoas que importa?", "Qual foi um momento em que voc√™ se sentiu completamente feliz?", "Qual √© a sua maior for√ßa como parceiro(a)?", "O que voc√™ acha que √© o seu prop√≥sito na vida?", "Qual √© a sua mem√≥ria mais antiga?", "O que te faz chorar? (De alegria ou tristeza)", "Qual √© a coisa mais aventureira que voc√™ j√° fez?", "Como voc√™ se v√™ daqui a 5 anos? E daqui a 10?", "Qual √© a sua maior saudade?", "Qual √© a sua opini√£o sobre ter filhos?", "O que significa 'fam√≠lia' para voc√™?", "Qual foi a decis√£o mais dif√≠cil que voc√™ j√° teve que tomar?", "Qual √© a sua forma favorita de passar tempo de qualidade comigo?", "O que voc√™ mais admira na minha personalidade?", "Qual √© a sua maior preocupa√ß√£o com o futuro?", "Qual √© a sua m√∫sica favorita e por qu√™?", "O que te motiva a levantar da cama todos os dias?", "Qual √© a sua maior conquista profissional ou acad√™mica?", "Como voc√™ se sente sobre o lugar onde cresceu?", "Qual √© a sua maior extravag√¢ncia? (Algo que voc√™ gasta dinheiro sem culpa)", "Qual √© a sua tradi√ß√£o familiar favorita?", "O que voc√™ acha que acontece depois da morte?", "Qual √© a coisa mais gentil que algu√©m j√° fez por voc√™?",
            ],
            profundas: [
                "O que em nosso relacionamento te faz sentir mais seguro(a)?", "Qual √© a sua maior necessidade emocional que eu posso suprir?", "Existe algo que voc√™ tem medo de me perguntar ou me dizer?", "Como podemos melhorar nossa comunica√ß√£o?", "Qual √© a sua fantasia ou desejo mais profundo que voc√™ gostaria de compartilhar comigo?", "O que 'amor incondicional' significa para voc√™?", "Qual foi um momento em que voc√™ se sentiu desconectado(a) de mim? O que podemos fazer para evitar isso?", "Qual √© o seu maior medo em rela√ß√£o ao nosso futuro juntos?", "De que forma voc√™ se sente mais visto(a) e compreendido(a) por mim?", "Qual √© uma ferida do passado que ainda afeta voc√™ hoje?", "O que te faria terminar nosso relacionamento?", "Como voc√™ define intimidade, al√©m do sexo?", "Qual √© a sua maior esperan√ßa para n√≥s como um casal?", "Existe alguma √°rea em sua vida que voc√™ sente que eu n√£o fa√ßo parte e gostaria que eu fizesse?", "O que eu fa√ßo que te magoa, mesmo que sem inten√ß√£o?", "Qual √© a sua vis√£o de um casamento ou parceria ideal para a vida toda?", "Como posso te apoiar melhor nos seus dias ruins?", "Qual √© uma cren√ßa limitante que voc√™ tem sobre si mesmo(a)?", "O que voc√™ nunca abriria m√£o por um relacionamento?", "Qual foi o momento em que voc√™ soube que me amava?", "Como nosso relacionamento mudou voc√™ para melhor?", "Qual √© a coisa mais importante que voc√™ aprendeu sobre o amor comigo?", "Existe algum segredo que voc√™ nunca contou a ningu√©m?", "Como podemos manter a paix√£o e o romance vivos a longo prazo?", "Qual √© o papel do perd√£o em nosso relacionamento?", "O que voc√™ precisa de mim quando se sente vulner√°vel?", "Como voc√™ se sente sobre nossas finan√ßas como casal?", "Qual √© a sua maior vulnerabilidade?", "De que maneira podemos crescer juntos, tanto individualmente quanto como casal?", "Qual √© a sua mem√≥ria sexual favorita nossa?", "Existe algo que voc√™ gostaria de experimentar na cama?", "O que te faz sentir mais desejado(a) por mim?", "Qual √© a sua maior prioridade na vida neste momento? E como eu me encaixo nela?", "O que te faz sentir verdadeiramente em paz?", "Qual √© a sua defini√ß√£o de 'alma g√™mea'? Voc√™ acredita nisso?", "Se voc√™ pudesse me dar um conselho para ser um(a) parceiro(a) melhor, qual seria?", "Qual √© a sua maior gratid√£o em rela√ß√£o √† nossa vida juntos?", "Como voc√™ lida com o ci√∫me?", "Qual √© a sua maior qualidade que voc√™ acha que eu n√£o percebo?", "O que voc√™ acha que √© o maior desafio para os casais de hoje?", "Qual √© a sua linguagem de desculpas? (Como voc√™ prefere que eu pe√ßa desculpas?)", "Qual √© a coisa mais rom√¢ntica que eu j√° fiz por voc√™?", "O que te faz confiar em mim completamente?", "Como podemos garantir que ambos nos sintamos iguais e respeitados na rela√ß√£o?", "Qual √© um sonho que voc√™ tem para n√≥s dois que ainda n√£o compartilhamos?", "Qual √© a sua maior li√ß√£o sobre si mesmo(a) que aprendeu estando comigo?", "O que te assusta na ideia de envelhecer?", "Como podemos nos tornar um time ainda melhor para enfrentar os desafios da vida?", "Se nosso amor fosse uma m√∫sica, qual seria o t√≠tulo dela?", "Qual √© a promessa mais importante que podemos fazer um ao outro hoje?",
            ],
            picantes: [
                "Qual a sua fantasia secreta mais recorrente?", "Qual foi o lugar mais inusitado onde voc√™ j√° pensou em fazer amor?", "O que eu visto (ou n√£o visto) que te deixa com mais desejo?", "Qual parte do meu corpo voc√™ mais gosta de tocar?", "Descreva o beijo perfeito para voc√™, do in√≠cio ao fim.", "Qual a sua mem√≥ria mais quente de n√≥s dois?", "Se voc√™ pudesse me pedir para fazer qualquer coisa na cama, o que seria?", "Qual a sua posi√ß√£o favorita e por qu√™?", "Voc√™ prefere uma abordagem mais selvagem ou mais rom√¢ntica e lenta?", "Qual √© a sua maior curiosidade sobre mim na cama?", "O que te excita instantaneamente s√≥ de pensar?", "Existe algum filme ou cena que te inspira intimamente?", "Se f√¥ssemos usar brinquedos, qual voc√™ gostaria de experimentar primeiro?", "Qual a sua opini√£o sobre falar durante a intimidade?", "O que voc√™ acha de experimentar fantasias? Qual seria a primeira?", "Qual a coisa mais ousada que voc√™ gostaria de fazer comigo fora do quarto?", "Prefere manh√£, tarde ou noite para a intimidade?", "Qual m√∫sica te coloca no clima para namorar?", "O que eu poderia sussurrar no seu ouvido para te arrepiar agora?", "Qual √© a melhor parte do seu corpo para receber uma massagem?", "Voc√™ gosta de ser dominante ou dominado(a)?", "O que voc√™ acha de vendarmos os olhos um do outro?", "Qual o seu 'guilty pleasure' quando est√° sozinho(a)?", "Qual o elogio mais picante que voc√™ gostaria de receber de mim?",
            ]
        };

        // --- VARI√ÅVEIS GLOBAIS ---
        let perguntasDisponiveis = {};
        const textoPerguntaEl = document.getElementById('texto-pergunta');
        const perguntaContainerEl = document.getElementById('pergunta-container');

        // --- FUN√á√ïES PRINCIPAIS ---

        function cloneProfundo(obj) { return JSON.parse(JSON.stringify(obj)); }
        
        function carregarPerguntasCustomizadas() {
            const perguntasSalvas = localStorage.getItem('perguntasCustomizadas');
            const perguntasPadrao = { leves: [], conhecendo: [], profundas: [], picantes: [] };
            return perguntasSalvas ? { ...perguntasPadrao, ...JSON.parse(perguntasSalvas) } : perguntasPadrao;
        }

        function inicializarBancoDePerguntas() {
            if (typeof perguntas === 'undefined' || perguntas === null) {
                console.error("O banco de perguntas n√£o est√° dispon√≠vel.");
                return;
            }
            const perguntasBase = cloneProfundo(perguntas);
            const perguntasCustom = carregarPerguntasCustomizadas();
            
            const todasCategorias = Object.keys({ ...perguntasBase, ...perguntasCustom });

            for (const categoria of todasCategorias) {
                const base = perguntasBase[categoria] || [];
                const custom = perguntasCustom[categoria] || [];
                perguntasDisponiveis[categoria] = [...base, ...custom];
            }
        }

        function exibirPergunta(texto) {
            perguntaContainerEl.classList.remove('fade-in');
            void perguntaContainerEl.offsetWidth;
            perguntaContainerEl.classList.add('fade-in');
            textoPerguntaEl.textContent = texto;
        }

        function gerarPergunta(categoria) {
            // Garante que a categoria existe no objeto de perguntas dispon√≠veis
            if (!perguntasDisponiveis[categoria]) {
                console.error(`Categoria "${categoria}" n√£o encontrada.`);
                exibirPergunta("Erro: Categoria n√£o encontrada.");
                return;
            }

            const listaDePerguntas = perguntasDisponiveis[categoria];

            if (listaDePerguntas.length === 0) {
                exibirPergunta("Acabaram as perguntas desta categoria! Tente outra ou resete o jogo.");
                return;
            }
            const indiceAleatorio = Math.floor(Math.random() * listaDePerguntas.length);
            const perguntaSorteada = listaDePerguntas.splice(indiceAleatorio, 1)[0];
            
            exibirPergunta(perguntaSorteada);
        }

        function salvarNovaPergunta(evento) {
            evento.preventDefault();
            const novaPergunta = document.getElementById('nova-pergunta').value.trim();
            const categoria = document.getElementById('categoria-pergunta').value;
            if (novaPergunta) {
                const perguntasCustom = carregarPerguntasCustomizadas();
                if (!perguntasCustom[categoria]) {
                    perguntasCustom[categoria] = [];
                }
                perguntasCustom[categoria].push(novaPergunta);
                localStorage.setItem('perguntasCustomizadas', JSON.stringify(perguntasCustom));
                perguntasDisponiveis[categoria].push(novaPergunta);
                document.getElementById('form-pergunta').reset();
                fecharModal();
                showToast('Pergunta adicionada com sucesso!');
            }
        }

        function resetarJogo() {
            inicializarBancoDePerguntas();
            exibirPergunta("Jogo resetado! Escolha uma categoria para come√ßar.");
        }

        // --- FUN√á√ïES DO MODAL E TOAST ---
        const modal = document.getElementById('modal-adicionar');
        function abrirModal() { modal.classList.remove('hidden'); }
        function fecharModal() { modal.classList.add('hidden'); }
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.remove('translate-y-20', 'opacity-0');
            setTimeout(() => {
                toast.classList.add('translate-y-20', 'opacity-0');
            }, 3000);
        }

        // --- INICIALIZA√á√ÉO E EVENT LISTENERS ---
        // Usar DOMContentLoaded √© suficiente aqui, pois o script est√° no final do body
        document.addEventListener('DOMContentLoaded', () => {
            inicializarBancoDePerguntas();

            document.querySelectorAll('.categoria-btn').forEach(button => {
                button.addEventListener('click', () => gerarPergunta(button.dataset.categoria));
            });
            
            document.getElementById('btn-reset').addEventListener('click', resetarJogo);
            document.getElementById('btn-abrir-modal').addEventListener('click', abrirModal);
            document.getElementById('btn-cancelar').addEventListener('click', fecharModal);
            document.getElementById('form-pergunta').addEventListener('submit', salvarNovaPergunta);
        });
    </script>
</body>
</html>
